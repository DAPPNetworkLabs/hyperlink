<div>  
    <style>   

        .logmessage {
            border: 1px solid gray;
            font-family: monospace;
            display: table;
        }
        .message{
          width:500px;
          max-width:500px;
          overflow: hidden;
        }
        .ts{
            font-size: 9px;
            color:yellow;
            margin-right: 5px;
            width:134px;
            max-width:134px;;
            overflow: hidden;
            
        }
        .jsonobj{
            /* display:none; */
            color:blue;   
            width:900px;
            max-width:900px;
            overflow: hidden;
        }

        #channelInput{
            background-color: #151515;
            border: 1px solid #303030;
            
        }
        body{
            background-color: #111111;
            color: white;
        }
        #channelStr{                
            width: 95%;
            height: 300px;
            font-family: monospace;
            background-color: #252525;
            color: yellowgreen;
            border: none;
        }
        .button1 {
            box-shadow:inset 0px -3px 7px 0px #29bbff;
            background:linear-gradient(to bottom, #2dabf9 5%, #0688fa 100%);
            background-color:#2dabf9;
            border-radius:3px;
            border:1px solid #0b0e07;
            display:inline-block;
            cursor:pointer;
            color:#ffffff;
            font-family:Arial;
            font-size:15px;
            padding:9px 23px;
            text-decoration:none;
            text-shadow:0px 1px 0px #263666;
        }
        .button1:hover {
            background:linear-gradient(to bottom, #0688fa 5%, #2dabf9 100%);
              background-color:#0688fa;
        }
        .button1:active {
            position:relative;
            top:1px;
        }
        .message.DEBUG {
            /* display: none; */
            color: gray;
        }   
        .message.INFO {
            color: lightgray;
        }            
        .message.WARN {
            color: lightblue;
        }    
        .message.ERROR {
            color: orange;
        }                                    
        .message.FATAL {
            color: lightcoral;
        }
        ::-webkit-scrollbar {
width: 10px;
}

/* Track */
::-webkit-scrollbar-track {
background: #f1f1f1; 
}

/* Handle */
::-webkit-scrollbar-thumb {
background: #888; 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
background: #555; 
}
#logwrapper{
height: 500px;
resize: both;
overflow-y: scroll;

}
.content {
          padding: 0 18px;
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
        }
    </style>
    <h2>Development Mode</h2>

    <a href="#" class="button1 collapsible" >Develop</a>
    <div id="channelInput" class="content">

<textarea id="channelStr">
---
processor: pipeline
processors:
 - processor: cron-source
   interval: 60
 - processor: json-transform
   transformView:
      btcusd:
        processor: pipeline
        processors:
          - processor: web-source
            url: "https://api.coindesk.com/v1/bpi/currentprice.json"
          - processor: string-to-json
          - processor: json-map
            path: bpi.USD.rate
 - processor: json-transform
   transformView:
      btcusd:
          processor: json-map
          path: btcusd
      signature:
          processor: pipeline
          processors:
            - processor: json-map
              path: btcusd
            - processor: encode-decode
              inputEncoding: utf8
              outputEncoding: hex
            - processor: sha256
              path: btcusd
            - processor: encode-decode
              inputEncoding: hex
              outputEncoding: base64    
      wasmtest:
          processor: wasm
          eventValues: "test1-"
          editor: "https://webassembly.studio/?f=ajuwzjqq1os"
          wasmBytes: 0061736d01000000011b0560047f7f7f7f0060027f7f017f60000060017f017f60017c017c02340303656e7609707573684576656e74000003656e76106765744368616e6e656c436f6e666967000103656e7605636c6561720002030a090203020204010101030405017001010105030100020615037f01419090040b7f00419090040b7f004190100b074806066d656d6f727902000b5f5f686561705f6261736503010a5f5f646174615f656e6403020e616c6c6f63617465537472696e6700040770726f63657373000505737461727400060aa70a0902000b08004180888080000bfa0203037f017c027f23808080800041e0006b2200248080808000200041c0006a41106a41003602002000420037034820004200370340200041306a41003b0100200041286a4200370300200041206a4200370300200041186a4200370300200041106a4200370300410121014100410028028090808000220241016a360280908080002000420037030820004200370300024002402002450d00024002402002b810878080800022039944000000000000e041630d0041808080807821040c010b2003aa21040b200441016a210120044100480d010b200121040340200041c0006a20046a417f6a20022002410a6d2205410a6c6b41306a3a0000200521022004417f6a220441004a0d000b0b200041c0006a20016a41003a0000418490808000410b1081808080001a2000418088808000108880808000200041c0006a1088808080002102108280808000200041c0006a200041c0006a108b8080800020022002108b80808000108080808000200041e0006a2480808080000b02000beb0303017e037f067c024002400240024002402000bd22014200530d002001422088a7220241ffff3f4d0d00200241ffffbfff074b0d03418080c0ff03210341817821042002418080c0ff03470d012001a70d024400000000000000000f0b0240200142ffffffffffffffffff00834200510d002001427f570d042000440000000000005043a2bd2201422088a7210341cb7721040c020b44000000000000f0bf20002000a2a30f0b200221030b2004200341e2be256a22024114766ab722054400609f501344d33fa22206200241ffff3f71419ec19aff036aad422086200142ffffffff0f8384bf44000000000000f0bfa022002000200044000000000000e03fa2a22207a1bd42808080807083bf220844000020157bcbdb3fa22209a0220a20092006200aa1a020002008a12007a120002000440000000000000040a0a32200200720002000a222062006a2220020002000449fc678d0099ac33fa244af788e1dc571cc3fa0a24404fa97999999d93fa0a220062000200020004444523edf12f1c23fa244de03cb966446c73fa0a244599322942449d23fa0a244935555555555e53fa0a2a0a0a2a0220044000020157bcbdb3fa2200544362bf111f3fe593da220002008a044d5ad9aca3894bb3da2a0a0a0a021000b20000f0b20002000a1440000000000000000a30b180020002000108b808080006a2001108a808080001a20000bd40101017f0240024020012000734103710d0002402001410371450d000340200020012d000022023a00002002450d03200041016a2100200141016a22014103710d000b0b20012802002202417f73200241fffdfb776a71418081828478710d0003402000200236020020012802042102200041046a2100200141046a21012002417f73200241fffdfb776a7141808182847871450d000b0b200020012d000022023a00002002450d00200141016a21010340200020012d000022023a0001200141016a2101200041016a210020020d000b0b20000b0f00200020011089808080001a20000bad0101037f200021010240024002402000410371450d0020002d0000450d01200041016a210103402001410371450d0120012d00002102200141016a2203210120020d000b2003417f6a20006b0f0b2001417c6a21010340200141046a22012802002202417f73200241fffdfb776a7141808182847871450d000b200241ff0171450d01034020012d00012102200141016a2203210120020d000b200320006b0f0b200020006b0f0b200120006b0b0b9e0802004180080b84080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004184100b0c6576656e7456616c7565730000c00d0b2e64656275675f696e666f3a0200000400000000000401000000000c002300000000000000430000000000000018000000025c0000003700000001260503000800000364000000050402680000004f0000000109050300040000045c0000000563000000000400036f000000060106740000000807070500000008000000f9000000010b17020000081f010000010b1e0200000009010000001c0000005f0100000a670100000a7201000000090100000019000000470100000a5301000000090200000093000000ea0000000af60000000a010100000b170100000b220100000b0c0100000c59000000210000000b2e01000000000d8800000001183700000001088e00000001183b01000008a10000000118420100000ea8000000011b370000000eb1000000011a370000000eba000000011c370000000f0ebd000000011e37000000000003940000000704105c0000000dc30000000112420100000108d50000000112420100000011dc000000010f0108e7000000010f4201000008ef000000010f4201000000120f0000007a0100001101000001281302234038010000012925020000130223003f010000012a310200000e8e000000012c4201000014ea00000000000000012b0af60000000b0c0100000b170100000b220100000ce8000000250000000b2e01000000001547010000290100000f000000012c0a5301000000165f0100005a01000022000000013000178a010000020000001901000001340308010000050403260100000704045c00000018630000001400045c00000018630000003200003c0200000400350100000401430100000c0066010000a90100009c0100008e010000eb01000002c30100003a000000011d84f4dfcc99b3e6ec3f033f00000004c7010000040802ce0100003a000000011faff1b9ecd1b89ce63f02d20100003a00000001219f8de3839dc1e6e13f02d60100003a000000011c93abd5aad5aad5f23f02da0100003a000000011ed9a68aa1c9a492e93f02de0100003a0000000120de87acb6c9ccd1e33f02e20100003a0000000122c4a4f9f9ada2bce13f02e60100003a0000000118808080a9b1eff2ed3f02ef0100003a000000011a80c0fd84b582d1e93f02f90100003a000000011bb6d6c48fb1deffac3d02030200003a0000000119d5dbead48c87e5dd3d040c020000050405200100002702000002a404100200000708068e010000eb0100003002000001243f000000073602000001243f000000083802000001260402000009000000003e02000001290e0100000840020000012822020000083a0200000127340200000862020000012734020000086402000001273402000008660200000127340200000868020000012734020000086b020000012734020000086e020000012734020000087002000001273402000008750200000127340200000878020000012734020000087b020000012734020000087e0200000127340200000885020000012734020000088c0200000127340200000a0801260b3a0200003f0000000126000b3c020000150100000126000000052d02000050020000029f04430200000704053f00000059020000021e006d0000000400cf01000004018e0200000c00b1020000a8030000ea0200007a03000018000000027a0300001800000011030000010350000000031d03000001035c00000003220300000103610000000004550000000518030000060106500000000666000000046b000000075500000000b60000000400250200000401260300000c00490300001f0400008203000094030000d40000000231000000bb030000015d03a9030000070404053e000000060231000000c503000001580794030000d4000000cc030000020b8a00000008da030000020b9600000008dc030000020b9b00000009de030000020eaa00000009e1030000020db400000000058f00000003d503000006010a8a0000000aa000000005a50000000b8f00000005af0000000b3f000000053f000000006d00000004009f0200000401e40300000c00070400001805000040040000690400000f00000002690400000f00000067040000010550000000037704000001056b000000037304000001055c000000000455000000056e0400000601066100000004660000000755000000065000000000960000000400f502000004017c0400000c009f04000084050000d80400007a040000ad000000023100000011050000015d03ff0400000704043d0000000502310000001b0500000158067a040000ad00000022050000020a310000000729050000020a7e0000000830050000020c7e0000000832050000020d8f0000000004830000000988000000032b05000006010494000000093e0000000000150e2e64656275675f6d6163696e666f000000000000002d0a2e64656275675f6c6f630000000079000000030011009f79000000ac0000000300114a9f0000000000000000005e0d2e64656275675f72616e6765739f0000001201000016010000290100000000000000000000050000000d000000010000001d000000010000001a00000002000000950000000f000000890100008a0100008c010000000000000000000000f1060d2e64656275675f616262726576011101250e1305030e10171b0e110155170000023400030e49133f193a0b3b0b02180000032400030e3e0b0b0b000004010149130000052100491337050000062400030e0b0b3e0b0000072e0111011206030e3a0b3b0b271949133f190000080500030e3a0b3b0b49130000092e0111011206311300000a0500311300000b3400311300000c0b011101120600000d2e01030e3a0b3b0b271949133f19200b00000e3400030e3a0b3b0b491300000f0b010000100f0049130000112e01030e3a0b3b0b27193f19200b0000122e0111011206030e3a0b3b0b27193f1900001334000218030e3a0b3b0b49130000141d0131135517580b590b0000151d01311311011206580b590b0000161d00311311011206580b590b0000172e0011011206030e3a0b3b0b27193f1900001821004913370b000000011101250e1305030e10171b0e110112060000023400030e49133a0b3b0b1c0f000003260049130000042400030e3e0b0b0b00000516004913030e3a0b3b0b0000062e0111011206030e3a0b3b0b271949133f190000070500030e3a0b3b0b49130000083400030e3a0b3b0b491300000934000217030e3a0b3b0b491300000a17010b0b3a0b3b0b00000b0d00030e49133a0b3b0b380b000000011101250e1305030e10171b0e110112060000022e0111011206030e3a0b3b0b271949133f190000030500030e3a0b3b0b49130000040f0049130000052400030e3e0b0b0b0000063700491300000726004913000000011101250e1305030e10171b0e1101120600000216004913030e3a0b3b0b0000032400030e3e0b0b0b0000040f000000050f00491300000626000000072e0111011206030e3a0b3b0b271949133f190000080500030e3a0b3b0b49130000093400030e3a0b3b0b491300000a3700491300000b26004913000000011101250e1305030e10171b0e110112060000022e0111011206030e3a0b3b0b271949133f190000030500030e3a0b3b0b49130000040f0049130000052400030e3e0b0b0b0000063700491300000726004913000000011101250e1305030e10171b0e1101120600000216004913030e3a0b3b0b0000032400030e3e0b0b0b0000040f00491300000526000000062e0111011206030e3a0b3b0b271949133f190000070500030e3a0b3b0b49130000083400030e3a0b3b0b49130000092600491300000000fb0c0b2e64656275675f6c696e65a5010000040037000000010101fb0e0d0001010101000000010000012f746d702f6275696c645f397362336f6e37676b6c772e24000066696c652e63000100000000050205000000030a0105030a21020700010100050201000000030e0105030a210516062e05038205312e0503820501066702010001010005020100000003110105030a21051c062e050382067502070001010005020200000003180105140a59053206e4052c3c05276603660882031a820366580539031a20052006770505065803632e051406032158051db90516c905140620035f3c052006031dc8050506200650051606740505063d02030001010005020f00000003270105080a088305109205082c081305105905082d060356022b01051006032b4a0508086505140370d605320690052c7405276603660882031a200366580539031a20052006770505065803632e051406032158051df10516c905140620035f3c051006032b90052003724a050506200650051606ac05030603703c031ae4d7d7036166051606660503ba05312e050382050106032166020d0001010005028a01000003330105130a200201000101fb01000004006c000000010101fb0e0d0001010101000000010000012f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f6d617468006f626a2f696e636c7564652f6269747300006c6f6731302e6300010000616c6c74797065732e6800020000000005028e01000003240105240a75051b08190516062003532e032dba051006030a3c050d069003492e0510060339c8051e069005292e050d3c03472e05010603e5009006039b7f20050e06032e20050706082e051b062d05075b0505320507bb050b5905080620034a3c051006032f0812050d065805010603362006039b7f20050406033e6605052d050fad050406200507060318200508bb050a03683c051706c8050806210514063c051f2005199005080621a0050e3d050c062e050eba050906030a2005063d75050921050dbe0508030b20050f3d0514062e050f2e051458050906037120050e065805070603733c050c062e0507ba0621051e030c2e050703742e59050f750516062e0514084a050f20050d9e0508200621050f062e05162e051d2e051b084a05162005149e050f20050d9e05082005090621051e2805180620051520052f06c0050d0620051dba0521d6051820052b2005090603092005102306039c7f3c05010603e5002006039b7f3c050d06033120051006d6050106033420020100010173000000040050000000010101fb0e0d0001010101000000010000012f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e6700007374726361742e6300010000000005027a03000015050e0a210510062e050e8205022006910203000101f500000004006f000000010101fb0e0d0001010101000000010000016f626a2f696e636c7564652f62697473002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e670000616c6c74797065732e68000100007374706370792e630002000000040200050294030000030b01051b0a40050606ba0517062f05030674050c063d050d064a050c580508580526065705210674051790050320050b064d0503060890051f2e050b90051c74052474050b740503084a050c065b050d062e050c58050258051358050c74050d4a050c5805025805187405027405010669020300010168000000040050000000010101fb0e0d0001010101000000010000012f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e6700007374726370792e630001000000000502690400001705020a22ad0203000101e700000004006f000000010101fb0e0d0001010101000000010000016f626a2f696e636c7564652f62697473002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e670000616c6c74797065732e68000100007374726c656e2e63000200000004020005027a040000030a0105160a77050206ac05293c05285805203c05167405027405293c0528740509d6050003725805010603123c06036e20050706030f20051d0674050208f2069f051c063c052190050290050003705805010603125806036e20031266036e20031266020100010100bf0a0a2e64656275675f737472636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f746d702f6275696c645f397362336f6e37676b6c772e242f66696c652e63002f746d702f6275696c645f397362336f6e37676b6c772e2400636f756e74657200696e74006e65775374720063686172005f5f41525241595f53495a455f545950455f5f0069746f73310076616c756500756e7369676e656420696e7400737472696e6700726573696475616c00737472696e675f6c006974006469676974005f6765744368616e6e656c436f6e666967006b6579507472005f707573684576656e74006576656e744964006576656e744461746100616c6c6f63617465537472696e67006c6f6e6720696e740070726f63657373007374617274006c656e677468006c6f6e6720756e7369676e656420696e74007265734e756d0072657300636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f6d6174682f6c6f6731302e63002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f6275696c642f6d75736c004c673200646f75626c65004c6734004c6736004c6731004c6733004c6735004c67370069766c6e31306869006c6f6731305f326869006c6f6731305f326c6f0069766c6e31306c6f00696e74006c6f6e67206c6f6e6720756e7369676e656420696e740075696e7436345f74006c6f6731300078007500660069006b00687800756e7369676e656420696e740075696e7433325f7400646f75626c655f740073007a007700743100743200520068667371006869006c6f00646b0076616c5f6c6f0076616c5f6869007900636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e672f7374726361742e63002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f6275696c642f6d75736c00737472636174006368617200646573740073726300636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e672f7374706370792e63002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f6275696c642f6d75736c006c6f6e6720756e7369676e656420696e740075696e747074725f740073697a655f74005f5f73747063707900636861720064007300777300776400636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e672f7374726370792e63002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f6275696c642f6d75736c00737472637079006368617200737263006465737400636c616e672076657273696f6e20382e302e3020287472756e6b2033343139363029002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f7372632f6d75736c2f7372632f737472696e672f7374726c656e2e63002f686f6d652f797572792f576f726b2f7761736d63657074696f6e2f6275696c642f6d75736c006c6f6e6720756e7369676e656420696e740075696e747074725f740073697a655f74007374726c656e007300636861720061007700008901046e616d650181010c0009707573684576656e7401106765744368616e6e656c436f6e6669670205636c65617203115f5f7761736d5f63616c6c5f63746f7273040e616c6c6f63617465537472696e67050770726f636573730605737461727407056c6f673130080673747263617409085f5f7374706370790a067374726370790b067374726c656e          
</textarea>
        <br/>
        <a href="#" class="button1" id="addButton">Add Channel</a>
        <br/>
        <input type="text" id="channelToRemove" value="0">
        <a href="#" class="button1" id="removeButton">Remove channel By ID</a>

    </div>
<a href="#" class="button1" id="clearButton">Clear log</a>
<div id="logwrapper">
  <table id="log"></table>
</div>
</div>
<script>
    
    var dsp = window.dsp;
    var addButton = document.getElementById('addButton');    
    var removeButton = document.getElementById('removeButton');    
    var clearButton = document.getElementById('clearButton');
    var newChannelText = document.getElementById('channelStr');
    var logger = document.getElementById('log');    
    
    var channelToRemove= document.getElementById('channelToRemove');
    
    clearButton.onclick =  ()=>{
        logger.innerHTML = '';
    };
    removeButton.onclick = ()=>{
        const channelText = channelToRemove.value;
        dsp.backend.removeChannel(channelText);
    }
    addButton.onclick = ()=>{
        const channelText = newChannelText.value;
        const doc = window.dsp.yaml.safeLoad(channelText, 'utf8');
        dsp.backend.addChannel(doc,"test", 1);
    };
    
    dsp.backend.onLog.subscribe((sender,{ts,level,data}) => {
        
            if(logger.childElementCount > 100){
                logger.removeChild(logger.lastChild);
            }
            const {message} = data;
            const newElement = document.createElement('tr');
            newElement.setAttribute('class',`logmessage ${level} ${data.ltype ? data.ltype : ''}`);
            const tsDiv = document.createElement(`td`);    
            tsDiv.setAttribute('class',`ts`);    
        
            tsDiv.textContent = ts.toISOString();
            newElement.appendChild(tsDiv);
        
            const messageDiv = document.createElement(`td`);    
        
            messageDiv.setAttribute('class',`message ${level} ${data.ltype ? data.ltype : ''}`);
            messageDiv.textContent = message;
            newElement.appendChild(messageDiv);
            const dataobjDiv = document.createElement(`td`);
            const dataobjCode = document.createElement(`pre`);
            
            dataobjDiv.appendChild(dataobjCode);
            delete data['message'];
            dataobjDiv.setAttribute('class',`jsonobj`);    
            dataobjCode.innerText=  JSON.stringify(data, null, 2);;
        
        
            newElement.appendChild(dataobjDiv);    
            logger.prepend(newElement);
    
            
        } );
    
    // newChannelText.innerHTML = config.meta.channelDevDraft ? 
    //         config.meta.channelDevDraft : dsp.backend.DefaultDraft;
    
            var coll = document.getElementsByClassName("collapsible");
            var i;
            
            for (i = 0; i < coll.length; i++) {
              coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.maxHeight){
                  content.style.maxHeight = null;
                } else {
                  content.style.maxHeight = content.scrollHeight + "px";
                }
              });
            }        
</script>